{% extends "main_base.html" %}
{% load tags %}
{% block content %}

<fieldset>
    <legend>
            <a href="{% url 'quize737:question_list' %}">Список вопросов</a>
            <span style="color: black;"> | </span>
            <a href="{% url 'quize737:new_question' %}">Добавить вопрос</a>
            <span style="color: black;"> | </span>
            <a href="{% url 'quize737:theme_editor' %}">СПИСОК ТЕМ</a>
            <span style="color: black;"> | </span>
            <a href="{% url 'quize737:new_theme' %}">Добавить Тему</a>
            <span style="color: black;"> | </span>
            <a href="{% url 'quize737:file_upload' %}">Загрузить файл</a>
            {% if request.user|has_group:'krs' or user.is_superuser %}
                <span style="color: black;"> | </span>
                <a href="pass">Скачать базу</a>
            {% endif %}
            <span style="color: black;"> | </span>
            <a href="{% url 'quize737:question_form_file_download' %}">Скачать Форму Вопросов</a>
    </legend>

    <div class="block-list">
<!--        <p><a href="{% url 'quize737:new_theme' %}">+ Добавить тему</a></p>-->
            {% for theme in themes %}
                {% if theme.name != 'Все темы'%}
            <div class="block_light_up">
                <div class="list-them">
                    <a href="{{theme.id}}">
                        <span class="theme_color">
                            {{theme.name}}
                        </span>
                    </a>
                </div>
                <span style="color: black;">|</span>
                <div class="list-them_questions_num">
                    <a href="{% url 'quize737:question_list' theme_filter=theme.id %}">Список вопросов: {{num_dict|get_item:theme.name}}</a>
                </div>
                <span style="color: black;">|</span>

                <div class="list-delete">
                    <a href="{% url 'quize737:theme_del' theme.id %}" onclick="return confirm('Внимание! При удалении темы будут удалены все связанные с ней вопросы. Продолжить?') || event.preventDefault()" name="theme_del">Удалить</a>
                </div>

            </div>
                {% endif %}
            {% endfor %}
        {% include "paginator.html" with page=themes %}
    </div>
</fieldset>


<!--<div class="right_side">-->
<!--        <fieldset>-->
<!--            <legend>Редактировать</legend>-->

<!--            <p><a href="{% url 'quize737:new_question' %}">Добавить вопрос</a></p>-->
<!--            <p><a href="pass">Редактировать Темы</a></p>-->
<!--            <p><a href="{% url 'quize737:file_upload' %}">Загрузить файл</a></p>-->
<!--            <p><a href="pass">Скачать базу</a></p>-->

<!--        </fieldset>-->
<!--</div>-->

<script type="text/javascript">
    var DelTheme = document.getElementsByName('theme_del');

</script>

{% endblock %}